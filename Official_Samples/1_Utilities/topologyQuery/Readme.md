https://github.com/NVIDIA/cuda-samples/tree/master/Samples/1_Utilities/topologyQuery

A simple exemple on how to query the topology of a system